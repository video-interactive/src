<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Interaktif Creator</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <header>
        <h1>Video Interaktif Creator</h1>
        <p>Ubah video biasa menjadi pengalaman yang dapat diklik, direkam, dan dibagikan.</p>
    </header>

    <main>
        <!-- Section untuk Upload Video -->
        <section id="upload-section">
            <div class="upload-area" id="upload-area">
                <i class="fas fa-cloud-upload-alt"></i>
                <h2>Unggah Video Anda</h2>
                <p>Klik atau seret file video ke area ini</p>
                <input type="file" id="video-upload" accept="video/*" hidden>
            </div>
        </section>

        <!-- Section untuk Editor Video -->
        <section id="editor-section" class="hidden">
            <div class="editor-container">
                <div class="video-wrapper">
                    <video id="video-player"></video>
                    <div id="zones-overlay"></div>
                    <!-- Indikator Perekaman -->
                    <div id="recording-indicator" class="hidden">
                        <span class="rec-dot"></span> Merekam...
                    </div>
                </div>
                
                <aside class="controls-panel">
                    <h3>Kontrol Interaktif</h3>
                    
                    <!-- Bagian Upload ke GitHub -->
                    <button id="upload-to-github-btn" class="btn btn-info">
                        <i class="fab fa-github"></i>
                        Upload Video ke GitHub
                    </button>

                    <div id="github-upload-panel" class="hidden">
                        <div class="control-group">
                            <label for="github-token-input">Token Akses GitHub (PAT):</label>
                            <input type="password" id="github-token-input" placeholder="ghp_...">
                            <small>Token Anda akan disimpan secara aman di browser ini.</small>
                        </div>
                        <div id="upload-progress" class="hidden">
                            <p>Mengunggah... Mohon tunggu (proses memakan waktu ~15 detik).</p>
                            <div class="progress-bar"><div class="progress-fill"></div></div>
                        </div>
                        <div id="upload-result" class="hidden"></div>
                    </div>

                    <div class="control-group">
                        <label for="video-url-input">URL Video (Dari GitHub):</label>
                        <input type="text" id="video-url-input" placeholder="URL akan muncul di sini setelah upload">
                    </div>

                    <button id="add-zone-btn" class="btn btn-primary">
                        <i class="fas fa-plus-square"></i>
                        Tambah Zona Klik
                    </button>

                    <div class="zones-list-container">
                        <h4>Daftar Zona:</h4>
                        <ul id="zones-list"></ul>
                    </div>

                   <!-- Ganti bagian ini di index.html -->
<div class="share-section">
    <h4>Bagikan Video Interaktif Anda</h4>
    
    <!-- Opsi 1: Link Interaktif (Paling Direkomendasikan) -->
    <button id="generate-link-btn" class="btn btn-primary">
        <i class="fas fa-link"></i>
        Buat Link Interaktif (Shareable)
    </button>
    <div id="share-output" class="hidden">
        <p>Bagikan link ini agar orang lain bisa langsung melihat video dan mengklik zona:</p>
        <input type="text" id="shareable-link" readonly>
        <button id="copy-link-btn" class="btn btn-secondary">Salin Link</button>
    </div>

    <!-- Opsi 2: Rekam Video (Untuk Preview/Sosial Media) -->
    <hr style="margin: 1.5rem 0; border: 0; border-top: 1px solid var(--border-color);">
    <p style="text-align: center; color: var(--secondary-color); margin-bottom: 1rem;">
        <i>atau rekam video untuk preview (zona tidak akan bisa diklik)</i>
    </p>
    <button id="record-btn" class="btn btn-danger">
        <i class="fas fa-record-vinyl"></i>
        Rekam Video (Non-Interaktif)
    </button>
    
    <div id="download-section" class="hidden">
        <p>Video Anda siap diunduh!</p>
        <a id="download-link" class="btn btn-success" download="interactive-video.webm">
            <i class="fas fa-download"></i>
            Unduh Video
        </a>
    </div>

    <div id="links-list-section" class="hidden">
        <p>Salin daftar link ini ke caption/deskripsi video Anda:</p>
        <textarea id="links-list-textarea" readonly></textarea>
        <button id="copy-links-btn" class="btn btn-secondary">
            <i class="fas fa-copy"></i> Salin Daftar Link
        </button>
    </div>
</div>

                        <button id="generate-link-btn" class="btn btn-secondary">
                            <i class="fas fa-link"></i>
                            Buat Link Shareable (Interaktif)
                        </button>
                        <div id="share-output" class="hidden">
                            <p>Bagikan link ini:</p>
                            <input type="text" id="shareable-link" readonly>
                            <button id="copy-link-btn" class="btn btn-secondary">Salin</button>
                        </div>
                    </div>
                </aside>
            </div>
        </section>
    </main>

    <!-- Modal untuk Edit Link Zona -->
<div id="link-modal" class="modal hidden">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h3>Edit Zona Interaktif</h3>
        
        <label for="zone-cta-input">Teks Ajakan (CTA):</label>
        <input type="text" id="zone-cta-input" placeholder="Contoh: Beli Sekarang">
        
        <label for="zone-link-input">Link Tujuan:</label>
        <input type="url" id="zone-link-input" placeholder="https://contoh.com">

        <!-- TAMBAHKAN SLIDER TRANSPARANSI DI SINI -->
        <label for="zone-opacity-input">Transparansi Zona:</label>
        <div class="slider-container">
            <input type="range" id="zone-opacity-input" min="0" max="1" step="0.1" value="0.4">
            <span id="zone-opacity-value">40%</span>
        </div>
        
        <div class="modal-actions">
            <button id="save-link-btn" class="btn btn-primary">Simpan</button>
            <button id="cancel-link-btn" class="btn btn-secondary">Batal</button>
        </div>
    </div>
</div>

    <!-- Canvas tersembunyi untuk perekaman -->
    <canvas id="recording-canvas" class="hidden"></canvas>

    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
